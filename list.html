<!DOCTYPE html>
<html>
<head>
    <title>Character Sheet</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.js"></script>

    <link rel="stylesheet" href="components.css" />

</head>

<body>
    <div id="vue-instance">
        <dynamic-list></dynamic-list>
    </div>


<!--
    Component: Inline-Editor
-->

<template id="inline-editor-template">
    <form class="inline-editor-component" action="javascript:void(0);" v-on:submit="returnText">
        <textarea v-model="text"></textarea>
        <input type="submit">
    </form>
</template>

<script type="text/javascript">
    Vue.component('inline-editor', {
        template: '#inline-editor-template',
        model: {
            prop: 'text',
            event: 'update'
        },
        props: ['text'],
        methods: {
            returnText: function() {
                this.$emit('update', this.text);
            }
        }
    })
</script>


<!--
    Component: Dynamic-List
-->

<template id="dynamic-list-template">
    <ul class="dynamic-list-component">
        <dynamic-item>
            <inline-editor slot="editor"></inline-editor>
        </dynamic-item>
    </ul>
</template>

<script type="text/javascript">
    Vue.component('dynamic-list', {
        template: '#dynamic-list-template',
        props: []
    })
</script>


<!--
    Component: Dynamic-Item
-->

<template id="dynamic-item-template">
    <li v-on:click="edit" class="dynamic-item-component">
        <span>{{ text }}</span>
        <component :is="editor" v-model="text" v-on:update="gettextfromeditor"></component>
    </li>
</template>

<script type="text/javascript">
    Vue.component('dynamic-item', {
        template: '#dynamic-item-template',
        props: [],
        data: function() {
            return {
                text: '',
                editor: false,
            }
        },
        methods: {
            // method to activate editor
            edit: function() {
                this.editor = 'inline-editor';
                //this.editor.focus();
            },
            gettextfromeditor: function() {
                this.editor = false;
            }
        }
    })
</script>


<!--
    Vue Instance
-->
<script type="text/javascript">
    var app = new Vue({
        el: '#vue-instance',
        data: {
            
        }
    });
    Vue.config.devtools = true;
</script>

</body>

</html>